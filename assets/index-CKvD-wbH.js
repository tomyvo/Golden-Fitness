function G(){}function J(){}const N={};function M(n,e){const t=N,o=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return E(n,o,i)}function E(n,e,t){if(z(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return w(n.children,e,t)}return Array.isArray(n)?w(n,e,t):""}function w(n,e,t){const o=[];let i=-1;for(;++i<n.length;)o[i]=E(n[i],e,t);return o.join("")}function z(n){return!!(n&&typeof n=="object")}function I(n,e,t,o){const i=n.length;let r=0,c;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,o.length<1e4)c=Array.from(o),c.unshift(e,t),n.splice(...c);else for(t&&n.splice(e,t);r<o.length;)c=o.slice(r,r+1e4),c.unshift(e,0),n.splice(...c),r+=1e4,e+=1e4}function Q(n,e){return n.length>0?(I(n,n.length,0,e),n):e}const x={}.hasOwnProperty;function V(n){const e={};let t=-1;for(;++t<n.length;)F(e,n[t]);return e}function F(n,e){let t;for(t in e){const i=(x.call(n,t)?n[t]:void 0)||(n[t]={}),r=e[t];let c;if(r)for(c in r){x.call(i,c)||(i[c]=[]);const f=r[c];L(i[c],Array.isArray(f)?f:f?[f]:[])}}}function L(n,e){let t=-1;const o=[];for(;++t<e.length;)(e[t].add==="after"?n:o).push(e[t]);I(n,0,0,o)}function v(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const nn=s(/[A-Za-z]/),tn=s(/[\dA-Za-z]/),en=s(/[#-'*+\--9=?A-Z^-~]/);function rn(n){return n!==null&&(n<32||n===127)}const on=s(/\d/),cn=s(/[\dA-Fa-f]/),un=s(/[!-/:-@[-`{-~]/);function O(n){return n!==null&&n<-2}function T(n){return n!==null&&(n<0||n===32)}function b(n){return n===-2||n===-1||n===32}const B=s(new RegExp("\\p{P}|\\p{S}","u")),Z=s(/\s/);function s(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function D(n,e,t,o){const i=o?o-1:Number.POSITIVE_INFINITY;let r=0;return c;function c(u){return b(u)?(n.enter(t),f(u)):e(u)}function f(u){return b(u)&&r++<i?(n.consume(u),f):(n.exit(t),e(u))}}function fn(n){if(n===null||T(n)||Z(n))return 1;if(B(n))return 2}function ln(n,e,t){const o=[];let i=-1;for(;++i<n.length;){const r=n[i].resolveAll;r&&!o.includes(r)&&(e=r(e,t),o.push(r))}return e}const an={partial:!0,tokenize:H};function H(n,e,t){return o;function o(r){return b(r)?D(n,i,"linePrefix")(r):i(r)}function i(r){return r===null||O(r)?e(r):t(r)}}const S=(function(n){if(n==null)return K;if(typeof n=="function")return A(n);if(typeof n=="object")return Array.isArray(n)?U(n):$(n);if(typeof n=="string")return q(n);throw new Error("Expected function, string, or object as test")});function U(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=S(n[t]);return A(o);function o(...i){let r=-1;for(;++r<e.length;)if(e[r].apply(this,i))return!0;return!1}}function $(n){const e=n;return A(t);function t(o){const i=o;let r;for(r in n)if(i[r]!==e[r])return!1;return!0}}function q(n){return A(e);function e(t){return t&&t.type===n}}function A(n){return e;function e(t,o,i){return!!(R(t)&&n.call(this,t,typeof o=="number"?o:void 0,i||void 0))}}function K(){return!0}function R(n){return n!==null&&typeof n=="object"&&"type"in n}const j=[],W=!0,P=!1,X="skip";function Y(n,e,t,o){let i;typeof e=="function"&&typeof t!="function"?(o=t,t=e):i=e;const r=S(i),c=o?-1:1;f(n,void 0,[])();function f(u,g,l){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const a=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(k,"name",{value:"node ("+(u.type+(a?"<"+a+">":""))+")"})}return k;function k(){let a=j,y,h,m;if((!e||r(u,g,l[l.length-1]||void 0))&&(a=_(t(u,l)),a[0]===P))return a;if("children"in u&&u.children){const d=u;if(d.children&&a[0]!==X)for(h=(o?d.children.length:-1)+c,m=l.concat(d);h>-1&&h<d.children.length;){const C=d.children[h];if(y=f(C,h,m)(),y[0]===P)return y;h=typeof y[1]=="number"?y[1]:h+c}}return a}}}function _(n){return Array.isArray(n)?n:typeof n=="number"?[W,n]:n==null?j:[n]}function sn(n,e,t,o){let i,r,c;typeof e=="function"&&typeof t!="function"?(r=void 0,c=e,i=t):(r=e,c=t,i=o),Y(n,r,f,i);function f(u,g){const l=g[g.length-1],p=l?l.children.indexOf(u):void 0;return c(u,p,l)}}export{P as E,tn as a,nn as b,fn as c,rn as d,en as e,D as f,b as g,un as h,cn as i,on as j,T as k,an as l,O as m,v as n,G as o,Q as p,V as q,ln as r,I as s,M as t,J as u,sn as v,S as w,Y as x,Z as y,B as z};
